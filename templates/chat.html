{% extends 'layout.html' %}
{% block content %}
<div class="ui stackable grid container" style="padding-top: 10em;">
	<div class="four wide column">
		<ul id="usersList">
			
		</ul>
	</div>
	<div class="twelve wide column">
		
	</div>
</div>
{% endblock content %}
{% block script %}
<script type="text/javascript">
	let socket = io.connect('http://' + document.domain + ':' + location.port);
	socket.on('connect', function(){
		console.log("Connected")
		socket.emit('request_users');
	})
	socket.on('list_users', function(message){
		console.dir(message);
		let users = message;
		for(user of users){
			$('ul#usersList').append('<li>' + user.user_id + ' - ' + user.user_username + ' - ' + user.SID + '</li>');
		}
	})
</script>
{% endblock script %}